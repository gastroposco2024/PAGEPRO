{% extends 'main/base.html' %}
{% load static %}
{% block title %}News{% endblock %}

{% block content %}
<div class="main-content">
    <div class="weather-news-container">
        <div class="weather-card">
            <div class="weather-info">
                <div class="weather-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="150" height="150" fill="#267fde" class="bi bi-cloud-sun-fill" viewBox="0 0 16 16">
                        <path d="M11.473 11a4.5 4.5 0 0 0-8.72-.99A3 3 0 0 0 3 16h8.5a2.5 2.5 0 0 0 0-5z"/>
                        <path d="M10.5 1.5a.5.5 0 0 0-1 0v1a.5.5 0 0 0 1 0zm3.743 1.964a.5.5 0 1 0-.707-.707l-.708.707a.5.5 0 0 0 .708.708zm-7.779-.707a.5.5 0 0 0-.707.707l.707.708a.5.5 0 1 0 .708-.708zm1.734 3.374a2 2 0 1 1 3.296 2.198q.3.423.516.898a3 3 0 1 0-4.84-3.225q.529.017 1.028.129m4.484 4.074c.6.215 1.125.59 1.522 1.072a.5.5 0 0 0 .039-.742l-.707-.707a.5.5 0 0 0-.854.377M14.5 6.5a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1z"/>
                    </svg>
                </div>
                <div class="weather-details">
                    <p>Timezone: {{ timezone }}</p>
                    <p>Descripción: {{ current_weather.weather.0.description }}</p>
                    <p>Temperatura: {{ current_weather.temp }}°C</p>         
                    <p>Feel Like: {{ current_weather.feels_like }}°C</p>
                </div>
                <div class="weather-details">
                    <p>Dew Point: {{ current_weather.dew_point }}°C</p>
                    <p>Wind Speed: {{ current_weather.wind_speed }}m/s</p>
                    <p>Wind Deg: {{ current_weather.wind_deg }}°</p>         
                    <p>Pressure: {{ current_weather.pressure }}hPa</p>
                </div>
                <div class="weather-details">
                    <p>Sunrise: {{ current_weather.sunrise }}am</p>
                    <p>Sunset: {{ current_weather.sunset }}pm</p>
                    <p>Visibility: {{ current_weather.visibility }}m</p>         
                    <p>Uvi: {{ current_weather.uvi }}</p>
                </div>
            </div>
        </div>
        <div class="container-news-2">
            {% if error %}
                <p>{{ error }}</p>
            {% else %}
                <ul class="news">
                    {% for article in articles %}
                        <li>
                            <h2>{{ article.title }}</h2>
                            <p>{{ article.description }}</p>
                            {% if article.urlToImage %}
                                <img src="{{ article.urlToImage }}" alt="{{ article.title }}" class="img-fluid news-image">
                            {% endif %}
                            <p><a href="{{ article.url }}" target="_blank">Leer más</a></p>
                        </li>
                    {% endfor %}
                </ul>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}